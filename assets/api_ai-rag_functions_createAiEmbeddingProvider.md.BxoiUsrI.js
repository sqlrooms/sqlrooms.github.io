import{_ as s,c as a,o as e,ag as t}from"./chunks/framework.Cycwnjj0.js";const c=JSON.parse('{"title":"Function: createAiEmbeddingProvider()","description":"","frontmatter":{"head":[["link",{"rel":"canonical","href":"https://sqlrooms.org/api/ai-rag/functions/createAiEmbeddingProvider.html"}]]},"headers":[],"relativePath":"api/ai-rag/functions/createAiEmbeddingProvider.md","filePath":"api/ai-rag/functions/createAiEmbeddingProvider.md"}'),n={name:"api/ai-rag/functions/createAiEmbeddingProvider.md"};function r(d,i,p,l,h,o){return e(),a("div",null,[...i[0]||(i[0]=[t(`<p><a href="./../">@sqlrooms/ai-rag</a> / createAiEmbeddingProvider</p><h1 id="function-createaiembeddingprovider" tabindex="-1">Function: createAiEmbeddingProvider() <a class="header-anchor" href="#function-createaiembeddingprovider" aria-label="Permalink to &quot;Function: createAiEmbeddingProvider()&quot;">​</a></h1><blockquote><p><strong>createAiEmbeddingProvider</strong>(<code>providerOrFactory</code>, <code>modelId</code>, <code>dimensions?</code>, <code>getApiKey?</code>): <a href="./../type-aliases/EmbeddingProvider.html"><code>EmbeddingProvider</code></a></p></blockquote><p>Create an embedding provider using Vercel AI SDK.</p><p>This is a generic function that works with any provider from the Vercel AI SDK:</p><ul><li>OpenAI (@ai-sdk/openai)</li><li>Google (@ai-sdk/google)</li><li>Anthropic (@ai-sdk/anthropic)</li><li>Custom providers</li></ul><p>Supports both static providers and dynamic provider factories for runtime API key configuration.</p><p>IMPORTANT: The model and dimensions MUST match the ones used during database preparation. Check your database metadata to ensure compatibility.</p><h2 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to &quot;Parameters&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>providerOrFactory</code></td><td><a href="./../interfaces/AiProvider.html"><code>AiProvider</code></a> | <a href="./../type-aliases/AiProviderFactory.html"><code>AiProviderFactory</code></a></td><td>Provider instance or factory function that creates a provider</td></tr><tr><td><code>modelId</code></td><td><code>string</code></td><td>Model identifier (e.g., &#39;text-embedding-3-small&#39;, &#39;text-embedding-004&#39;)</td></tr><tr><td><code>dimensions?</code></td><td><code>number</code></td><td>Embedding dimensions (optional, defaults to model&#39;s native dimensions)</td></tr><tr><td><code>getApiKey?</code></td><td>() =&gt; <code>string</code> | <code>undefined</code></td><td>Optional function to retrieve API key at runtime (for dynamic provider factories)</td></tr></tbody></table><h2 id="returns" tabindex="-1">Returns <a class="header-anchor" href="#returns" aria-label="Permalink to &quot;Returns&quot;">​</a></h2><p><a href="./../type-aliases/EmbeddingProvider.html"><code>EmbeddingProvider</code></a></p><p>EmbeddingProvider function</p><h2 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-label="Permalink to &quot;Examples&quot;">​</a></h2><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {openai} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@ai-sdk/openai&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {createAiEmbeddingProvider} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@sqlrooms/ai-rag&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// OpenAI text-embedding-3-small (1536 dimensions)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> provider</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createAiEmbeddingProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  openai,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;text-embedding-3-small&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1536</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {createOpenAI} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@ai-sdk/openai&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {createAiEmbeddingProvider} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@sqlrooms/ai-rag&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Provider factory that creates OpenAI instance with runtime API key</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> provider</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createAiEmbeddingProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">apiKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createOpenAI</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({apiKey}),</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;text-embedding-3-small&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1536</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> store.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().aiSettings.config.providers?.[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;openai&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]?.apiKey</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="note" tabindex="-1">Note <a class="header-anchor" href="#note" aria-label="Permalink to &quot;Note&quot;">​</a></h2><p>Requires AI SDK 5+ which uses v2 embedding specification. The provider must support the <code>embedding()</code> method that returns a v2 model.</p>`,18)])])}const g=s(n,[["render",r]]);export{c as __pageData,g as default};
