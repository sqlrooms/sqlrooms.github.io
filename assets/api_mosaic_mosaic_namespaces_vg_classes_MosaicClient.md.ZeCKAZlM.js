import{_ as t,c as a,o as r,ag as o}from"./chunks/framework.Cycwnjj0.js";const p=JSON.parse('{"title":"Class: MosaicClient","description":"","frontmatter":{"head":[["link",{"rel":"canonical","href":"https://sqlrooms.org/api/mosaic/mosaic/namespaces/vg/classes/MosaicClient.html"}]]},"headers":[],"relativePath":"api/mosaic/mosaic/namespaces/vg/classes/MosaicClient.md","filePath":"api/mosaic/mosaic/namespaces/vg/classes/MosaicClient.md"}'),d={name:"api/mosaic/mosaic/namespaces/vg/classes/MosaicClient.md"};function n(i,e,s,c,l,h){return r(),a("div",null,[...e[0]||(e[0]=[o('<p><a href="./../../../../">@sqlrooms/mosaic</a> / <a href="./../">vg</a> / MosaicClient</p><h1 id="class-mosaicclient" tabindex="-1">Class: MosaicClient <a class="header-anchor" href="#class-mosaicclient" aria-label="Permalink to &quot;Class: MosaicClient&quot;">​</a></h1><p>A Mosaic client is a data consumer that indicates its data needs to a Mosaic coordinator via the query method. The coordinator is responsible for issuing queries and returning results to the client.</p><p>The client life-cycle consists of connection to a coordinator, initialization (potentially involving queries for data schema and summary statistic information), and then interactive queries that may be driven by an associated selection. When no longer needed, a client should be disconnected from the coordinator.</p><p>When enabled, a client will initialize and respond to query update requests. If disabled, the client will delay initialization and not respond to queries until enabled again. Disabling a client can improve system performance when associated interface elements are offscreen or disabled.</p><h2 id="constructors" tabindex="-1">Constructors <a class="header-anchor" href="#constructors" aria-label="Permalink to &quot;Constructors&quot;">​</a></h2><h3 id="constructor" tabindex="-1">Constructor <a class="header-anchor" href="#constructor" aria-label="Permalink to &quot;Constructor&quot;">​</a></h3><blockquote><p><strong>new MosaicClient</strong>(<code>filterSelection?</code>): <code>MosaicClient</code></p></blockquote><p>Create a new client instance.</p><h4 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>filterSelection?</code></td><td><a href="./../../../../classes/Selection.html"><code>Selection</code></a></td><td>An optional selection to interactively filter this client&#39;s data. If provided, a coordinator will re-query and update the client when the selection updates.</td></tr></tbody></table><h4 id="returns" tabindex="-1">Returns <a class="header-anchor" href="#returns" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>MosaicClient</code></p><h2 id="properties" tabindex="-1">Properties <a class="header-anchor" href="#properties" aria-label="Permalink to &quot;Properties&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Property</th><th>Type</th></tr></thead><tbody><tr><td><a id="_filterby"></a> <code>_filterBy</code></td><td><a href="./../../../../classes/Selection.html"><code>Selection</code></a> | <code>undefined</code></td></tr><tr><td><a id="_requestupdate"></a> <code>_requestUpdate</code></td><td>() =&gt; <code>void</code></td></tr><tr><td><a id="_coordinator"></a> <code>_coordinator</code></td><td><a href="./Coordinator.html"><code>Coordinator</code></a> | <code>null</code></td></tr><tr><td><a id="_pending"></a> <code>_pending</code></td><td><code>Promise</code>&lt;<code>unknown</code>&gt;</td></tr><tr><td><a id="_enabled"></a> <code>_enabled</code></td><td><code>boolean</code></td></tr><tr><td><a id="_initialized"></a> <code>_initialized</code></td><td><code>boolean</code></td></tr><tr><td><a id="_request"></a> <code>_request</code></td><td><code>boolean</code> | <a href="./../../../../classes/Query.html"><code>Query</code></a> | <code>null</code></td></tr></tbody></table><h2 id="accessors" tabindex="-1">Accessors <a class="header-anchor" href="#accessors" aria-label="Permalink to &quot;Accessors&quot;">​</a></h2><h3 id="coordinator" tabindex="-1">coordinator <a class="header-anchor" href="#coordinator" aria-label="Permalink to &quot;coordinator&quot;">​</a></h3><h4 id="get-signature" tabindex="-1">Get Signature <a class="header-anchor" href="#get-signature" aria-label="Permalink to &quot;Get Signature&quot;">​</a></h4><blockquote><p><strong>get</strong> <strong>coordinator</strong>(): <a href="./Coordinator.html"><code>Coordinator</code></a> | <code>null</code></p></blockquote><h5 id="returns-1" tabindex="-1">Returns <a class="header-anchor" href="#returns-1" aria-label="Permalink to &quot;Returns&quot;">​</a></h5><p><a href="./Coordinator.html"><code>Coordinator</code></a> | <code>null</code></p><p>this client&#39;s connected coordinator.</p><h4 id="set-signature" tabindex="-1">Set Signature <a class="header-anchor" href="#set-signature" aria-label="Permalink to &quot;Set Signature&quot;">​</a></h4><blockquote><p><strong>set</strong> <strong>coordinator</strong>(<code>coordinator</code>): <code>void</code></p></blockquote><p>Set this client&#39;s connected coordinator.</p><h5 id="parameters-1" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-1" aria-label="Permalink to &quot;Parameters&quot;">​</a></h5><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>coordinator</code></td><td><a href="./Coordinator.html"><code>Coordinator</code></a> | <code>null</code></td></tr></tbody></table><h5 id="returns-2" tabindex="-1">Returns <a class="header-anchor" href="#returns-2" aria-label="Permalink to &quot;Returns&quot;">​</a></h5><p><code>void</code></p><hr><h3 id="enabled" tabindex="-1">enabled <a class="header-anchor" href="#enabled" aria-label="Permalink to &quot;enabled&quot;">​</a></h3><h4 id="get-signature-1" tabindex="-1">Get Signature <a class="header-anchor" href="#get-signature-1" aria-label="Permalink to &quot;Get Signature&quot;">​</a></h4><blockquote><p><strong>get</strong> <strong>enabled</strong>(): <code>boolean</code></p></blockquote><p>Return this client&#39;s enabled state.</p><h5 id="returns-3" tabindex="-1">Returns <a class="header-anchor" href="#returns-3" aria-label="Permalink to &quot;Returns&quot;">​</a></h5><p><code>boolean</code></p><h4 id="set-signature-1" tabindex="-1">Set Signature <a class="header-anchor" href="#set-signature-1" aria-label="Permalink to &quot;Set Signature&quot;">​</a></h4><blockquote><p><strong>set</strong> <strong>enabled</strong>(<code>state</code>): <code>void</code></p></blockquote><p>Set this client&#39;s enabled state;</p><h5 id="parameters-2" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-2" aria-label="Permalink to &quot;Parameters&quot;">​</a></h5><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>state</code></td><td><code>boolean</code></td></tr></tbody></table><h5 id="returns-4" tabindex="-1">Returns <a class="header-anchor" href="#returns-4" aria-label="Permalink to &quot;Returns&quot;">​</a></h5><p><code>void</code></p><hr><h3 id="pending" tabindex="-1">pending <a class="header-anchor" href="#pending" aria-label="Permalink to &quot;pending&quot;">​</a></h3><h4 id="get-signature-2" tabindex="-1">Get Signature <a class="header-anchor" href="#get-signature-2" aria-label="Permalink to &quot;Get Signature&quot;">​</a></h4><blockquote><p><strong>get</strong> <strong>pending</strong>(): <code>Promise</code>&lt;<code>unknown</code>&gt;</p></blockquote><p>Return a Promise that resolves once the client has updated.</p><h5 id="returns-5" tabindex="-1">Returns <a class="header-anchor" href="#returns-5" aria-label="Permalink to &quot;Returns&quot;">​</a></h5><p><code>Promise</code>&lt;<code>unknown</code>&gt;</p><hr><h3 id="filterby" tabindex="-1">filterBy <a class="header-anchor" href="#filterby" aria-label="Permalink to &quot;filterBy&quot;">​</a></h3><h4 id="get-signature-3" tabindex="-1">Get Signature <a class="header-anchor" href="#get-signature-3" aria-label="Permalink to &quot;Get Signature&quot;">​</a></h4><blockquote><p><strong>get</strong> <strong>filterBy</strong>(): <a href="./../../../../classes/Selection.html"><code>Selection</code></a> | <code>undefined</code></p></blockquote><h5 id="returns-6" tabindex="-1">Returns <a class="header-anchor" href="#returns-6" aria-label="Permalink to &quot;Returns&quot;">​</a></h5><p><a href="./../../../../classes/Selection.html"><code>Selection</code></a> | <code>undefined</code></p><p>this client&#39;s filter selection.</p><hr><h3 id="filterstable" tabindex="-1">filterStable <a class="header-anchor" href="#filterstable" aria-label="Permalink to &quot;filterStable&quot;">​</a></h3><h4 id="get-signature-4" tabindex="-1">Get Signature <a class="header-anchor" href="#get-signature-4" aria-label="Permalink to &quot;Get Signature&quot;">​</a></h4><blockquote><p><strong>get</strong> <strong>filterStable</strong>(): <code>boolean</code></p></blockquote><p>Return a boolean indicating if the client query can be sped up with materialized views of pre-aggregated data. Should return true if changes to the filterBy selection do not change the groupby domain of the client query.</p><h5 id="returns-7" tabindex="-1">Returns <a class="header-anchor" href="#returns-7" aria-label="Permalink to &quot;Returns&quot;">​</a></h5><p><code>boolean</code></p><h2 id="methods" tabindex="-1">Methods <a class="header-anchor" href="#methods" aria-label="Permalink to &quot;Methods&quot;">​</a></h2><h3 id="prepare" tabindex="-1">prepare() <a class="header-anchor" href="#prepare" aria-label="Permalink to &quot;prepare()&quot;">​</a></h3><blockquote><p><strong>prepare</strong>(): <code>Promise</code>&lt;<code>void</code>&gt;</p></blockquote><p>Prepare the client before the <code>query()</code> method is called. Subclasses should override this method as needed, potentially issuing one or more queries to gather data or metadata needed prior to <code>query</code> calls.</p><h4 id="returns-8" tabindex="-1">Returns <a class="header-anchor" href="#returns-8" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="query" tabindex="-1">query() <a class="header-anchor" href="#query" aria-label="Permalink to &quot;query()&quot;">​</a></h3><blockquote><p><strong>query</strong>(<code>filter?</code>): <code>ClientQuery</code></p></blockquote><p>Return a query specifying the data needed by this client.</p><h4 id="parameters-3" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-3" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>filter?</code></td><td><code>FilterExpr</code> | <code>null</code></td><td>The filtering criteria to apply in the query.</td></tr></tbody></table><h4 id="returns-9" tabindex="-1">Returns <a class="header-anchor" href="#returns-9" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>ClientQuery</code></p><p>The client query</p><hr><h3 id="querypending" tabindex="-1">queryPending() <a class="header-anchor" href="#querypending" aria-label="Permalink to &quot;queryPending()&quot;">​</a></h3><blockquote><p><strong>queryPending</strong>(): <code>this</code></p></blockquote><p>Called by the coordinator to inform the client that a query is pending.</p><h4 id="returns-10" tabindex="-1">Returns <a class="header-anchor" href="#returns-10" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>this</code></p><p>this</p><hr><h3 id="queryresult" tabindex="-1">queryResult() <a class="header-anchor" href="#queryresult" aria-label="Permalink to &quot;queryResult()&quot;">​</a></h3><blockquote><p><strong>queryResult</strong>(<code>data</code>): <code>this</code></p></blockquote><p>Called by the coordinator to return a query result.</p><h4 id="parameters-4" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-4" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>data</code></td><td><code>unknown</code></td><td>The query result.</td></tr></tbody></table><h4 id="returns-11" tabindex="-1">Returns <a class="header-anchor" href="#returns-11" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>this</code></p><p>this</p><hr><h3 id="queryerror" tabindex="-1">queryError() <a class="header-anchor" href="#queryerror" aria-label="Permalink to &quot;queryError()&quot;">​</a></h3><blockquote><p><strong>queryError</strong>(<code>error</code>): <code>this</code></p></blockquote><p>Called by the coordinator to report a query execution error.</p><h4 id="parameters-5" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-5" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>error</code></td><td><code>Error</code></td><td></td></tr></tbody></table><h4 id="returns-12" tabindex="-1">Returns <a class="header-anchor" href="#returns-12" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>this</code></p><p>this</p><hr><h3 id="requestquery" tabindex="-1">requestQuery() <a class="header-anchor" href="#requestquery" aria-label="Permalink to &quot;requestQuery()&quot;">​</a></h3><blockquote><p><strong>requestQuery</strong>(<code>query?</code>): <code>Promise</code>&lt;<code>unknown</code>&gt; | <code>null</code></p></blockquote><p>Request the coordinator to execute a query for this client. If an explicit query is not provided, the client <code>query</code> method will be called, filtered by the current <code>filterBy</code> selection. This method has no effect if the client is not connected to a coordinator. If the client is connected by currently disabled, the request will be serviced if the client is later enabled.</p><h4 id="parameters-6" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-6" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>query?</code></td><td><a href="./../../../../classes/Query.html"><code>Query</code></a></td><td>The query to request. If unspecified, the query will be determined by the client&#39;s <code>query</code> method and the current <code>filterBy</code> selection state.</td></tr></tbody></table><h4 id="returns-13" tabindex="-1">Returns <a class="header-anchor" href="#returns-13" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>Promise</code>&lt;<code>unknown</code>&gt; | <code>null</code></p><hr><h3 id="requestupdate" tabindex="-1">requestUpdate() <a class="header-anchor" href="#requestupdate" aria-label="Permalink to &quot;requestUpdate()&quot;">​</a></h3><blockquote><p><strong>requestUpdate</strong>(): <code>void</code></p></blockquote><p>Request that the coordinator perform a throttled update of this client using the default query. Unlike requestQuery, for which every call results in an executed query, multiple calls to requestUpdate may be consolidated into a single update. This method has no effect if the client is not connected to a coordinator. If the client is connected but currently disabled, the request will be serviced if the client is later enabled.</p><h4 id="returns-14" tabindex="-1">Returns <a class="header-anchor" href="#returns-14" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><hr><h3 id="initialize" tabindex="-1">initialize() <a class="header-anchor" href="#initialize" aria-label="Permalink to &quot;initialize()&quot;">​</a></h3><blockquote><p><strong>initialize</strong>(): <code>void</code></p></blockquote><p>Reset this client, calling the prepare method and query requests. This method has no effect if the client is not registered with a coordinator.</p><h4 id="returns-15" tabindex="-1">Returns <a class="header-anchor" href="#returns-15" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><hr><h3 id="destroy" tabindex="-1">destroy() <a class="header-anchor" href="#destroy" aria-label="Permalink to &quot;destroy()&quot;">​</a></h3><blockquote><p><strong>destroy</strong>(): <code>void</code></p></blockquote><p>Remove this client: disconnect from the coordinator and free up any resource use. This method has no effect if the client is not connected to a coordinator.</p><p>If overriding this method in a client subclass, be sure to also disconnect from the coordinator.</p><h4 id="returns-16" tabindex="-1">Returns <a class="header-anchor" href="#returns-16" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><hr><h3 id="update" tabindex="-1">update() <a class="header-anchor" href="#update" aria-label="Permalink to &quot;update()&quot;">​</a></h3><blockquote><p><strong>update</strong>(): <code>MosaicClient</code> | <code>Promise</code>&lt;<code>unknown</code>&gt;</p></blockquote><p>Requests a client update, for example to (re-)render an interface component.</p><h4 id="returns-17" tabindex="-1">Returns <a class="header-anchor" href="#returns-17" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>MosaicClient</code> | <code>Promise</code>&lt;<code>unknown</code>&gt;</p>',137)])])}const b=t(d,[["render",n]]);export{p as __pageData,b as default};
